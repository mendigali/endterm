<!doctype html>
<html lang="en">

<head>
    <%- include('partials/head.ejs', {page: "Confirm"}); %>
</head>

<body>
<header>
    <%- include('partials/header.ejs', {page: "Confirm"}); %>
</header>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <form action="/order">
                <h2 class="border-bottom pb-3">Confirmation Note</h2>
                <p>
                    Dear <%= user.first_name %> <%= user.last_name %>,<br>
                    Thank you for ordering in our online shop.<br>
                    Please enter your credit card information and delivery address.
                </p>
                <div class="credit_card mt-3">
                    <h4>Credit card</h4>
                    <div class="form-group row">
                        <div class="col">
                            <label for="creditCardFirstName" class="cols-sm-2 control-label">First name</label>
                            <div class="cols-sm-10">
                                <div class="input-group">
                                    <input type="text" class="form-control" name="creditCardFirstName" id="creditCardFirstName"
                                           placeholder="Enter first name" required/>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <label for="creditCardLastName" class="cols-sm-2 control-label">Last name</label>
                            <div class="cols-sm-10">
                                <div class="input-group">
                                    <input type="text" class="form-control" name="creditCardLastName" id="creditCardLastName"
                                           placeholder="Enter last name" required/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row mt-3">
                        <div class="col">
                            <label for="creditCardNumber" class="cols-sm-2 control-label">Credit card number</label>
                            <div class="cols-sm-10">
                                <div class="input-group">
                                    <input type="text" class="form-control" name="creditCardNumber" id="creditCardNumber"
                                           placeholder="Enter credit card number" required/>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <label for="cvv" class="cols-sm-2 control-label">CVV</label>
                            <div class="cols-sm-10">
                                <div class="input-group">
                                    <input type="text" class="form-control" name="cvv" id="cvv"
                                           placeholder="Enter CVV" required/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row mt-3">
                        <div class="col">
                            <label for="expirationDate" class="cols-sm-2 control-label">Expiration date</label>
                            <div class="cols-sm-10">
                                <div class="input-group">
                                    <input type="text" class="form-control" name="expirationDate" id="expirationDate"
                                           placeholder="Enter expiration date MM/YY" required/>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <label for="postalCode" class="cols-sm-2 control-label">Postal code</label>
                            <div class="cols-sm-10">
                                <div class="input-group">
                                    <input type="text" class="form-control" name="postalCode" id="postalCode"
                                           placeholder="Enter postal code" required/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row mt-3">
                        <div class="col">
                            <label for="deliveryAddress" class="form-label">Delivery address</label>
                            <div class="cols-sm-10">
                                <div class="input-group">
                                    <textarea class="form-control" id="deliveryAddress" name="deliveryAddress" rows="3" required></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <label for="invoiceAddress" class="form-label">Invoice address</label>
                            <div class="cols-sm-10">
                                <div class="input-group">
                                    <textarea class="form-control" id="invoiceAddress" name="invoiceAddress" rows="3" required></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-responsive row mt-5">
                    <h4>Your Order</h4>
                    <table class="table table-striped table-hover table-hover">
                        <thead>
                        <tr>
                            <th>Quantity</th>
                            <th>Description</th>
                            <th>Price</th>
                            <th>Total</th>
                        </tr>
                        </thead>
                        <tbody>
                        <% cart.forEach((productQuantity) => { %>
                            <tr>
                                <td><%= productQuantity.quantity %></td>
                                <td><%= productQuantity.product.name %></td>
                                <td>$<%= Number.parseFloat(productQuantity.product.price).toFixed(2) %></td>
                                <td>
                                    $<%= Number.parseFloat(productQuantity.product.price * productQuantity.quantity).toFixed(2) %>
                                </td>
                            </tr>
                        <% }); %>
                        </tbody>
                    </table>
                </div>
                <div class="row d-flex justify-content-end">
                    <h4><strong>Total:</strong> $<%= Number.parseFloat(total).toFixed(2) %></h4>
                </div>
                <button type="submit" class="btn btn-success mt-3">Confirm</button>
            </form>
        </div>
    </div>
</div>
<%- include('partials/footer.ejs'); %>
</body>

</html>